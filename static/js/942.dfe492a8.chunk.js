"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[942],{1942:function(e,r,n){n.r(r),n.d(r,{default:function(){return j}});var t=n(2960),s=n(7886),i=n(1448),o=n(6131),u=function(e){return e.chatReducer.status},c=function(e){return e.chatReducer.messages},a=n(1258),l=n(6695),d=(0,t.memo)((function(e){var r=e.messageBody,n=r.message,t=r.photo,s=r.userName;return(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{src:t,alt:"photo"}),(0,l.jsx)("div",{children:s}),(0,l.jsx)("div",{children:n})]})})),h=function(){var e=(0,t.useRef)(null),r=(0,i.CG)(c),n=(0,t.useState)(!0),s=(0,a.Z)(n,2),o=s[0],u=s[1];(0,t.useEffect)((function(){var r;o&&(null===(r=e.current)||void 0===r||r.scrollIntoView({block:"end",behavior:"smooth"}))}),[r]);var h=null===r||void 0===r?void 0:r.map((function(e,r){return(0,l.jsx)(d,{messageBody:e},r)}));return(0,l.jsxs)("div",{onScroll:function(e){var r=e.currentTarget;Math.abs(r.scrollHeight-r.scrollTop-r.clientHeight)<300?!o&&u(!0):o&&u(!1)},style:{height:"300px",overflowY:"auto"},children:[h,(0,l.jsx)("div",{ref:e})]})},f=n(5313),v=n(2777),x=function(){var e=(0,i.CG)(u),r=(0,t.useState)(""),n=(0,a.Z)(r,2),s=n[0],c=n[1],d=(0,i.TL)(),h=function(){s&&(d((0,o.bG)(s)),c(""))};return(0,l.jsxs)("div",{children:[(0,l.jsx)(f.n,{onEnter:function(){h()},onChangeText:function(e){c(e)},value:s,placeholder:"type message..."}),(0,l.jsx)(v.z,{disabled:"ready"!==e,onClick:h,children:"Send"})]})},j=(0,s.D)((function(){var e=(0,i.CG)(u),r=(0,i.TL)();return(0,t.useEffect)((function(){return r((0,o.WE)()),function(){r((0,o.R7)())}}),[]),(0,l.jsxs)("div",{children:["error"===e&&(0,l.jsx)("div",{children:"Some error occurred. Please refresh the page"}),(0,l.jsxs)("div",{style:{width:"500px",border:"1px solid red"},children:["Chat",(0,l.jsx)(h,{}),(0,l.jsx)(x,{})]})]})}))}}]);
//# sourceMappingURL=942.dfe492a8.chunk.js.map