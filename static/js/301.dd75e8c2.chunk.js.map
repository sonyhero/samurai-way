{"version":3,"file":"static/js/301.dd75e8c2.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/Pages/Users/User/UserCSS.module.css?4dcc","components/Pages/Users/User/User.tsx","../node_modules/.pnpm/clsx@2.0.0/node_modules/clsx/dist/clsx.mjs","webpack://samurai-way/./src/components/ui/pagination/pagination.module.scss?fcee","components/ui/pagination/usePagination.tsx","components/ui/pagination/pagination.tsx","components/Pages/Users/Users.tsx","app/selectors/users-selector.ts","components/Pages/Users/UsersContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersPhoto\":\"UserCSS_usersPhoto__kQ8hg\"};","import React from 'react'\r\nimport s from './UserCSS.module.css'\r\nimport userPhoto from '../../../../assets/img/user.png'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { UserType } from '../user-reducer/users-reducer'\r\nimport { Button } from '../../../ui/button'\r\n\r\nexport const User: React.FC<UserPropsType> = (props) => {\r\n  const { user, followingInProgress, followUsers, unFollowUsers } = props\r\n\r\n  const changeFollow = (userId: number) => followUsers(userId)\r\n  const changeUnFollow = (userId: number) => unFollowUsers(userId)\r\n\r\n  return (\r\n    <div>\r\n      <span>\r\n        <div>\r\n          <NavLink to={`/profile/${user.id}`}>\r\n            <img\r\n              src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n              alt={'avatar'}\r\n              className={s.usersPhoto}\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <Button\r\n              variant={'secondary'}\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => changeUnFollow(user.id)}\r\n            >\r\n              Unfollow\r\n            </Button>\r\n          ) : (\r\n            <Button disabled={followingInProgress.some((id) => id === user.id)} onClick={() => changeFollow(user.id)}>\r\n              Follow\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div>{user.name}</div>\r\n          <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n          <div>{'el.location.country'}</div>\r\n          <div>{'el.location.city'}</div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  )\r\n}\r\n\r\n//Types\r\ntype UserPropsType = {\r\n  user: UserType\r\n  followingInProgress: number[]\r\n  followUsers: (userId: number) => void\r\n  unFollowUsers: (userId: number) => void\r\n}\r\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"pagination_root__n8ZRQ\",\"container\":\"pagination_container__qlJ4T\",\"item\":\"pagination_item__4tSHD\",\"selected\":\"pagination_selected__PFPg8\",\"dots\":\"pagination_dots__KJO9j\",\"icon\":\"pagination_icon__JGgXe\",\"selectBox\":\"pagination_selectBox__UA73X\",\"select\":\"pagination_select__RXPvR\"};","import { useCallback, useMemo } from 'react'\r\n\r\n// original code: https://www.freecodecamp.org/news/build-a-custom-pagination-component-in-react/\r\n\r\nconst range = (start: number, end: number) => {\r\n  let length = end - start + 1\r\n\r\n  /*\r\n  \tCreate an array of certain length and set the elements within it from\r\n    start value to end value.\r\n  */\r\n  return Array.from({ length }, (_, idx) => idx + start)\r\n}\r\n\r\nconst DOTS = '...'\r\n\r\ntype UsePaginationPropsType = {\r\n  count: number\r\n  siblings?: number\r\n  page: number\r\n  onChange: (pageNumber: number) => void\r\n}\r\n\r\ntype PaginationRange = (number | '...')[]\r\n\r\nexport const usePagination = ({\r\n  count = 1,\r\n  siblings = 1,\r\n  page = 1,\r\n  onChange,\r\n}: UsePaginationPropsType) => {\r\n  const paginationRange = useMemo(() => {\r\n    // Pages count is determined as siblingCount + firstPage + lastPage + page + 2*DOTS\r\n    const totalPageNumbers = siblings + 5\r\n\r\n    /*\r\n      Case 1:\r\n      If the number of pages is less than the page numbers we want to show in our\r\n      paginationComponent, we return the range [1..totalPageCount]\r\n    */\r\n    if (totalPageNumbers >= count) {\r\n      return range(1, count)\r\n    }\r\n\r\n    /*\r\n    \tCalculate left and right sibling index and make sure they are within range 1 and totalPageCount\r\n    */\r\n    const leftSiblingIndex = Math.max(page - siblings, 1)\r\n    const rightSiblingIndex = Math.min(page + siblings, count)\r\n\r\n    /*\r\n      We do not show dots when there is only one page number to be inserted\r\n      between the extremes of siblings and the page limits i.e 1 and totalPageCount.\r\n      Hence, we are using leftSiblingIndex > 2 and rightSiblingIndex < totalPageCount - 2\r\n    */\r\n    const shouldShowLeftDots = leftSiblingIndex > 2\r\n    const shouldShowRightDots = rightSiblingIndex < count - 2\r\n\r\n    const firstPageIndex = 1\r\n    const lastPageIndex = count\r\n\r\n    /*\r\n    \tCase 2: No left dots to show, but rights dots to be shown\r\n    */\r\n    if (!shouldShowLeftDots && shouldShowRightDots) {\r\n      let leftItemCount = 3 + 2 * siblings\r\n      let leftRange = range(1, leftItemCount)\r\n\r\n      return [...leftRange, DOTS, count]\r\n    }\r\n\r\n    /*\r\n    \tCase 3: No right dots to show, but left dots to be shown\r\n    */\r\n    if (shouldShowLeftDots && !shouldShowRightDots) {\r\n      let rightItemCount = 3 + 2 * siblings\r\n      let rightRange = range(count - rightItemCount + 1, count)\r\n\r\n      return [firstPageIndex, DOTS, ...rightRange]\r\n    }\r\n\r\n    /*\r\n    \tCase 4: Both left and right dots to be shown\r\n    */\r\n    if (shouldShowLeftDots && shouldShowRightDots) {\r\n      let middleRange = range(leftSiblingIndex, rightSiblingIndex)\r\n\r\n      return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex]\r\n    }\r\n  }, [siblings, page, count]) as PaginationRange\r\n\r\n  const lastPage = paginationRange?.[paginationRange.length - 1] ?? 1\r\n  const isFirstPage = page === 1\r\n  const isLastPage = page === lastPage\r\n\r\n  const handleNextPageClicked = useCallback(() => {\r\n    onChange(page + 1)\r\n  }, [page, onChange])\r\n\r\n  const handlePreviousPageClicked = useCallback(() => {\r\n    onChange(page - 1)\r\n  }, [page, onChange])\r\n\r\n  function handleMainPageClicked(pageNumber: number) {\r\n    return () => onChange(pageNumber)\r\n  }\r\n\r\n  return {\r\n    paginationRange: paginationRange || [],\r\n    isFirstPage,\r\n    isLastPage,\r\n    handleMainPageClicked,\r\n    handleNextPageClicked,\r\n    handlePreviousPageClicked,\r\n  }\r\n}\r\n","import { FC } from 'react'\r\n\r\nimport { clsx } from 'clsx'\r\n\r\nimport s from './pagination.module.scss'\r\n\r\nimport { ArrowLeft, ArrowRight } from '../../../assets'\r\nimport { usePagination } from './usePagination'\r\n\r\ntype PaginationConditionals =\r\n  | {\r\n      perPage?: null\r\n      perPageOptions?: never\r\n      onPerPageChange?: never\r\n    }\r\n  | {\r\n      perPage: number\r\n      perPageOptions: number[]\r\n      onPerPageChange: (itemPerPage: number) => void\r\n    }\r\n\r\nexport type PaginationProps = {\r\n  count?: number\r\n  page: number\r\n  onChange: (page: number) => void\r\n  siblings?: number\r\n  perPage?: number\r\n  perPageOptions?: number[]\r\n  onPerPageChange?: (itemPerPage: number) => void\r\n} & PaginationConditionals\r\n\r\nconst classNames = {\r\n  root: s.root,\r\n  container: s.container,\r\n  selectBox: s.selectBox,\r\n  select: s.select,\r\n  item: s.item,\r\n  dots: s.dots,\r\n  icon: s.icon,\r\n  pageButton(selected?: boolean) {\r\n    return clsx(this.item, selected && s.selected)\r\n  },\r\n}\r\n\r\nexport const Pagination: FC<PaginationProps> = ({ onChange, count = 10, page = 1, siblings }) => {\r\n  const {\r\n    paginationRange,\r\n    isLastPage,\r\n    isFirstPage,\r\n    handlePreviousPageClicked,\r\n    handleNextPageClicked,\r\n    handleMainPageClicked,\r\n  } = usePagination({\r\n    page,\r\n    count,\r\n    onChange,\r\n    siblings,\r\n  })\r\n\r\n  return (\r\n    <div className={classNames.root}>\r\n      <div className={classNames.container}>\r\n        <PrevButton onClick={handlePreviousPageClicked} disabled={isFirstPage} />\r\n\r\n        <MainPaginationButtons currentPage={page} onClick={handleMainPageClicked} paginationRange={paginationRange} />\r\n\r\n        <NextButton onClick={handleNextPageClicked} disabled={isLastPage} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\ntype NavigationButtonProps = {\r\n  onClick: () => void\r\n  disabled?: boolean\r\n}\r\n\r\ntype PageButtonProps = NavigationButtonProps & {\r\n  page: number\r\n  selected: boolean\r\n}\r\n\r\nconst Dots: FC = () => {\r\n  return <span className={classNames.dots}>&#8230;</span>\r\n}\r\nconst PageButton: FC<PageButtonProps> = ({ onClick, disabled, selected, page }) => {\r\n  return (\r\n    <button onClick={onClick} disabled={selected || disabled} className={classNames.pageButton(selected)}>\r\n      {page}\r\n    </button>\r\n  )\r\n}\r\nconst PrevButton: FC<NavigationButtonProps> = ({ onClick, disabled }) => {\r\n  return (\r\n    <button className={classNames.item} onClick={onClick} disabled={disabled}>\r\n      <ArrowLeft className={classNames.icon} />\r\n    </button>\r\n  )\r\n}\r\n\r\nconst NextButton: FC<NavigationButtonProps> = ({ onClick, disabled }) => {\r\n  return (\r\n    <button className={classNames.item} onClick={onClick} disabled={disabled}>\r\n      <ArrowRight className={classNames.icon} />\r\n    </button>\r\n  )\r\n}\r\n\r\ntype MainPaginationButtonsProps = {\r\n  paginationRange: (number | string)[]\r\n  currentPage: number\r\n  onClick: (pageNumber: number) => () => void\r\n}\r\n\r\nconst MainPaginationButtons: FC<MainPaginationButtonsProps> = ({ paginationRange, currentPage, onClick }) => {\r\n  return (\r\n    <>\r\n      {paginationRange.map((page: number | string, index) => {\r\n        const isSelected = page === currentPage\r\n\r\n        if (typeof page !== 'number') {\r\n          return <Dots key={index} />\r\n        }\r\n\r\n        return <PageButton key={index} page={page} selected={isSelected} onClick={onClick(page)} />\r\n      })}\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { UsersAPIComponentType } from './UsersContainer'\r\nimport { User } from './User/User'\r\nimport { Pagination } from '../../ui/pagination'\r\n\r\nexport const Users: React.FC<UsersPropsType> = (props) => {\r\n  const {\r\n    totalUsersCount,\r\n    pageSize,\r\n    currentPage,\r\n    users,\r\n    followingInProgress,\r\n    onPageChanged,\r\n    followUsers,\r\n    unFollowUsers,\r\n  } = props\r\n\r\n  const mappedUsers = users.map((u) => (\r\n    <User\r\n      key={u.id}\r\n      user={u}\r\n      followUsers={followUsers}\r\n      unFollowUsers={unFollowUsers}\r\n      followingInProgress={followingInProgress}\r\n    />\r\n  ))\r\n\r\n  return (\r\n    <div>\r\n      {/*<Pagination*/}\r\n      {/*  pageSize={pageSize}*/}\r\n      {/*  totalItemsCount={totalUsersCount}*/}\r\n      {/*  currentPage={currentPage}*/}\r\n      {/*  onPageChanged={onPageChanged}*/}\r\n      {/*  portionSize={10}*/}\r\n      {/*/>*/}\r\n      <Pagination count={totalUsersCount} page={currentPage} onChange={onPageChanged} />\r\n      {mappedUsers}\r\n    </div>\r\n  )\r\n}\r\n\r\n//Types\r\ntype UsersProps = {\r\n  onPageChanged: (pageNumber: number) => void\r\n}\r\ntype UsersPropsType = UsersProps & UsersAPIComponentType\r\n","import { RootReducerType } from '../store'\r\n\r\nexport const getUsers = (state: RootReducerType) => state.usersReducer.users\r\nexport const getPageSize = (state: RootReducerType) => state.usersReducer.pageSize\r\nexport const getTotalUsersCount = (state: RootReducerType) => state.usersReducer.totalUsersCount\r\nexport const getCurrentPage = (state: RootReducerType) => state.usersReducer.currentPage\r\nexport const getIsFetching = (state: RootReducerType) => state.usersReducer.isFetching\r\nexport const getFollowingInProgress = (state: RootReducerType) => state.usersReducer.followingInProgress\r\n","import React, { ComponentType } from 'react'\r\nimport { RootReducerType } from '../../../app/store'\r\nimport { connect } from 'react-redux'\r\nimport { followUsers, requestUsers, unFollowUsers, userActions, UserType } from './user-reducer/users-reducer'\r\nimport { Users } from './Users'\r\nimport { Preloader } from '../../common/Preloader/Preloader'\r\nimport { compose } from 'redux'\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers,\r\n} from '../../../app/selectors/users-selector'\r\nimport { getIsAuth } from '../../../app/selectors/auth-selector'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst { follow, unFollow, setUsers, setCurrentPage, setUsersTotalCount, toggleIsFetching, toggleFollowingProgress } =\r\n  userActions\r\n\r\nexport class UsersAPIComponent extends React.Component<UsersAPIComponentType> {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props\r\n    this.props.requestUsers(currentPage, pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber: number) => {\r\n    const { pageSize } = this.props\r\n    this.props.requestUsers(pageNumber, pageSize)\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n    return this.props.isFetching ? <Preloader /> : <Users {...this.props} onPageChanged={this.onPageChanged} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReducerType): MapStateToPropsType => {\r\n  return {\r\n    isAuth: getIsAuth(state),\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unFollow,\r\n    setUsers,\r\n    setCurrentPage,\r\n    setUsersTotalCount,\r\n    toggleIsFetching,\r\n    toggleFollowingProgress,\r\n    requestUsers,\r\n    followUsers,\r\n    unFollowUsers,\r\n  }),\r\n)(UsersAPIComponent)\r\n//Types\r\ntype MapDispatchToPropsType = {\r\n  follow: (userId: number) => void\r\n  unFollow: (userId: number) => void\r\n  setUsers: (users: UserType[]) => void\r\n  setCurrentPage: (currentPage: number) => void\r\n  setUsersTotalCount: (totalUsersCount: number) => void\r\n  toggleIsFetching: (isFetching: boolean) => void\r\n  toggleFollowingProgress: (isFetching: boolean, userId: number) => void\r\n  requestUsers: (currentPage: number, pageSize: number) => void\r\n  followUsers: (userId: number) => void\r\n  unFollowUsers: (userId: number) => void\r\n}\r\ntype MapStateToPropsType = {\r\n  isAuth: boolean\r\n  users: UserType[]\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: number[]\r\n}\r\nexport type UsersAPIComponentType = MapStateToPropsType & MapDispatchToPropsType\r\n"],"names":["User","props","user","followingInProgress","followUsers","unFollowUsers","_jsxs","children","_jsx","NavLink","to","concat","id","src","photos","small","userPhoto","alt","className","s","followed","Button","variant","disabled","some","onClick","userId","name","status","r","e","t","f","n","Array","isArray","length","clsx","arguments","range","start","end","from","_","idx","DOTS","classNames","root","container","selectBox","select","item","dots","icon","pageButton","selected","this","Pagination","_ref","onChange","_ref$count","count","_ref$page","page","_usePagination","_paginationRange","_ref$siblings","siblings","paginationRange","useMemo","leftSiblingIndex","Math","max","rightSiblingIndex","min","shouldShowLeftDots","shouldShowRightDots","firstPageIndex","lastPageIndex","leftRange","_toConsumableArray","rightRange","middleRange","lastPage","isFirstPage","isLastPage","handleMainPageClicked","pageNumber","handleNextPageClicked","useCallback","handlePreviousPageClicked","usePagination","PrevButton","MainPaginationButtons","currentPage","NextButton","Dots","PageButton","_ref2","_ref3","ArrowLeft","_ref4","ArrowRight","_ref5","_Fragment","map","index","isSelected","Users","totalUsersCount","pageSize","users","onPageChanged","mappedUsers","u","getUsers","state","usersReducer","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","follow","userActions","unFollow","setUsers","setCurrentPage","setUsersTotalCount","toggleIsFetching","toggleFollowingProgress","UsersAPIComponent","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","args","_key","call","apply","requestUsers","_createClass","key","value","_this$props","isAuth","Preloader","_objectSpread","Redirect","React","compose","connect","getIsAuth"],"sourceRoot":""}